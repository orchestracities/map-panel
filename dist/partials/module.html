<div id="map_panel_{{ctrl.panel.id}}" class="map-panel">
  <div id="mapid_{{ctrl.panel.id}}" 
        class="map-container {{ctrl.saturationClass}} {{ctrl.width}}" 
        ng-style="{'height':ctrl.height-(ctrl.panel.renderChart?270:0)}">
    <div class="map-container-popups" ng-show="ctrl.worldMap.map.getSize().x >= 640">      
      <!-- Global detials -->
      <div id="measures_table_{{ctrl.panel.id}}" class="measures-table hidden info-container">
        <div class="header">Measured Details</div>
        <table class="stripes">
          <tbody></tbody>
        </table>
      </div>

      <!-- Range detials - used only in Air Quality and Traffic -->
      <div class="values-ranges-legend">
        <table id="environment_table_{{ctrl.panel.id}}" class="environment-table hidden intensity-scale stripes info-container">
          <thead>
            <tr>
              <th>AQI Interval</th><th>Meaning</th>
            </tr>
          </thead>
          <tbody>
            <tr class="level-0">
              <td>[0, 50]</td>
              <td>
                <span></span><span>Good</span>
              </td>
            </tr>
            <tr class="level-1">
              <td>[51, 100]</td>
              <td>
                <span></span><span>Moderate</span>
              </td>
            </tr>
            <tr class="level-2">
              <td>[101, 150]</td>
              <td>
                <span></span><span>Unhealthy (sensitive groups)</span>
              </td>
            </tr>
            <tr class="level-3">
              <td>[151, 200]</td>
              <td>
                <span></span><span>Unhealthy</span>
              </td>
            </tr>
            <tr class="level-4">
              <td>[201, 300]</td>
              <td>
                <span></span><span>Very Unhealthy</span>
              </td>
            </tr>
            <tr class="level-5">
              <td>[301, 400]</td>
              <td>
                <span></span><span>Hazardous</span>
              </td>
            </tr>
          </tbody>
        </table>

        <table id="traffic_table_{{ctrl.panel.id}}" class="traffic-table hidden intensity-scale stripes info-container">
          <thead>
            <tr>
              <th>Traffic Intensity</th><th>Meaning</th>
            </tr>
          </thead>
          <tbody>
            <tr class="level-0"><td>[0, 15]</td><td><span></span><span>Good<span></td></tr>
            <tr class="level-1"><td>[15, 30]</td><td><span></span><span>Moderate<span></td></tr>
            <tr class="level-2"><td>[30, 45]</td><td><span></span><span>Some congestion<span></td></tr>
            <tr class="level-3"><td>[45, 50]</td><td><span></span><span>Congested<span></td></tr>            
          </tbody>
        </table>
      </div>

      <!-- Health Concerns - used only in Air Quality -->
      <div id="health_concerns_wrapper_{{ctrl.panel.id}}" class="health-concerns-wrapper hidden info-container">
        <div class="header header-left">Health Concerns <span><span class="color"/><span class="risk"></span></span></div>
        <div class="body" id="health_risk_{{ctrl.panel.id}}"></div>
      </div>
    </div>
  </div>

  <!-- The chart -->
  <div id="data_chart_{{ctrl.panel.id}}" class="chart-container">
    <div id="data_details_{{ctrl.panel.id}}" class="data-details p-t-1">
      <select id="parameters_dropdown_{{ctrl.panel.id}}" class="parameters-dropdown hidden"></select>
    </div>
    <div id="graph_container_{{ctrl.panel.id}}"></div>
  </div>
</div>